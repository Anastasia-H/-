Проектування REST API

Проектуючи REST API визначають:
- сутності, що містяться в системі
- операції, які можна виконувати над тими чи іншими сутностями
- які HTTP методи використовуються до яких операцій
- структура запитів та відповідей для тих чи інших операцій
- які HTTP статус коди повертаються в тій чи іншій ситуації
- як відбувається авторизація

Всі ці рішення документуються, щоб всі члени команди розуміли всі деталі API, яке потрібно реалізувати. Також така документація може використовуватись користувачами API щоб розуміти які операції можна виконувати, які дані передавати в запитах, які дані очікувати у відповідь і т.д.
В процесі реалізації спроектованого REST API, особливо при засосуванні методології розробки Agile, деякі його деталі можуть змінюватись, тоді документація змінюється відповідно.
REST API можна описувати різними способами, однак найпопулярнішим є стандарт OpenAPI (колишня Swagger Specification). OpenAPI специфікації описуються в форматі YAML або JSON.
В даній лабораторній роботі потрібно визначити як буде виглядати API системи згідно з варіантом та описати його в форматі OpenAPI версії 3.

МІЙ ВАРІАНТ

Варіант 5. Написати сервіс статей (2000 символів). Статті є публічними для всіх, зареєстровані користувачі можуть редагувати статтю та очікувати на схвалення її модераторами (користувачі із більшими правами). Передбачити варіант редагування, коли стаття на розгляді модератором, а інший користувач її теж редагує. Модератори мають бачити статті, які очікують їх схвалення.

Рекомендації

OpenAPI специфікації досить великі за ромізром, тому для спрощення процесу створення нової API можна розпочати з прикладу специфікації "Swagger Petstore" з Swagger Editor. Даний приклад використовує специфікацію OpenAPI 2, його можна конвертувати в OpenAPI 3 засобами Swagger Editor (Editor / Convert to OpenAPI 3). Після конвертації в OpenAPI 3 даний приклад можна використати для створення власної специфікації, при цьму варто старатись обмежитись мінімально необхідною специфікацією, без копіювання непотрібних елементів з прикладу.

Хід роботи
1.	Визначити набір сутностей, що будуть в системі та описати які зв'язки будуть між ними та які операції над ними можна виконувати
2.	Створити файл swagger.yaml з описом API у форматі OpenAPI 3
3.	Перевірити валідність створеного swagger.yaml за допомогою Swagger Editor.
Критерії оцінювання
1.	Студент має описати словами створену специфікацію REST API
2.	Файл swagger.yaml має містити валідний опис API в форматі OpenAPI 3 
Перевірити валідність можна за допомогою Swagger Editor
3.	Використані коректні HTTP методи та HTTP статус коди для тих чи інших операцій 
Перевірити у візуалізації специфікації Swagger Editor
4.	Окрім опису відповіді при успішному виконання також мають описуватись відповіді при тих чи інших помилках 
Перевірити опис відповідей при HTTP статус кодах відмінних від 200

Виконання лабораторної роботи

Це сервіс статей з такими сутностями, як стаття та користувач (окрім того у базі даних буде таблиця Статті користувачів, де зберігатимуться всі версії статей).

СТАТТЯ
- ID статті
- назва статті
- текст статті
- дата публікації
- стан статті (на редагуванні/опублікована/в очікуванні на схвалення)

КОРИСТУВАЧ

- ID користувача
- нік користувача (username)
- ім’я
- прізвище
- емейл
- пароль
- стан(зареєстрований/модератор)

СТАТТІ КОРИСТУВАЧІВ

- ID версії статті
- ID користувача, що редагував
- ID модератора
- ID статті
- відредагований текст
- дата редагування

Читати статті зможуть усі користувачі, натомість створювати і редагувати - лише зареєстровані.
Якщо користувач відредагував статтю, то вона переходить у стан очікування схвалення змін модератором, лише модератор може 
прийняти остаточні зміни і опублікувати статтю. Завдяки таблиці Статті Користувачів усі версії статей
будуть збережені, тому модератор матиме змогу побачити усі статті, які очікують на схвалення.

Методи:

ARTICLE

- POST /article (Adds the article)
- PUT /article/ (Updates the article)
- PUT /article/confirm (Updates the article)
- GET /article/{article_ID} (Shows the published article)
- DELETE /article/{article_ID} (Deletes the article)

USER

- POST /user (creates user account)
- PUT /user/{username} (updates the information about the user)
- GET /user/login (Logs user into the system)
- GET /user/logout (Logs out current logged in user session)
- GET /user/{username} (Shows the information about the user)
- DELETE /user/{username} (Deletes the user)

BLOG

- GET /blog (shows the list of articles)
- GET /blog/{username} (shows the list of articles of the user)
- GET /blog/{article_ID} (shows the history of the article)
